
<!DOCTYPE html>
<head>
<title>Visitors an Admin Panel Category Bootstrap Responsive Website Template | Home :: w3layouts</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Visitors Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- bootstrap-css -->
<link rel="stylesheet" href="css/bootstrap.min.css" >
<!-- //bootstrap-css -->
<!-- Custom CSS -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<link href="css/style-responsive.css" rel="stylesheet"/>
<!-- font CSS -->
<!-- link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'-->
<!-- font-awesome icons -->
<link rel="stylesheet" href="css/font.css" type="text/css"/>
<link href="css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="css/morris.css" type="text/css"/>
<!-- calendar -->
<link rel="stylesheet" href="css/monthly.css">
<!-- //calendar -->
<!-- //font-awesome icons -->
<script src="js/jquery2.0.3.min.js"></script>
<script src="js/raphael-min.js"></script>
<script src="js/morris.js"></script>
<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>

<!-- Add additional services you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-firestore.js"></script>

<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBvDRFGYSsRZnzCAe2r3wrY6h55Kh8R3ek",
    authDomain: "inou-fde25.firebaseapp.com",
    databaseURL: "https://inou-fde25.firebaseio.com",
    projectId: "inou-fde25",
    storageBucket: "inou-fde25.appspot.com",
    messagingSenderId: "92570245906"
  };
  firebase.initializeApp(config);
  var database = firebase.database().ref("cam1/");
  //var storage = firebase.storage().ref();
  //var pathReference = storage.ref('known-faces/');
  var count = 0;
  var time_array = new Array();
  var time = new Array();
  var a;
  //document.querySelector("#totalcnt").textContent = "0";
  var userRef = firebase.database().ref('cam1/3/timestamp/');
  var section = document.createElement("div");
  section.className = "market-updates";
  section.textContent = "user no. 3 spoted on:"
  userRef.on('value',function(snapshot){
    for(var data in snapshot.val()){
      var ref = firebase.database().ref('cam1/3/timestamp/'+ data + '/time');
      ref.on('value',function(snapshot){
        time = snapshot.val();
        time_array.push(time)//time.sort();
      });
      time_array.sort().reverse();
    }

    var p = document.createElement("p");
    var i = 0;
    for(var x in time_array){
      p.textContent = time_array;
      section.appendChild(p);
      var div = document.querySelector("#report");
      div.appendChild(section);
    }
    console.log(time_array);
  });
  database.on("child_added", function(snapshot) {
  count++;  //console.log(count);
  document.querySelector("#totalcnt").textContent = count;
  });

  database.on("child_removed", function(snapshot) {
    count--;  //console.log(count);
    document.querySelector("#totalcnt").textContent = count;
  });

  /*
  storage.child('known-faces/1.jpg').getDownloadURL().then(function(url) {
  // `url` is the download URL for 'images/stars.jpg'

  // This can be downloaded directly:
  var xhr = new XMLHttpRequest();
  xhr.responseType = 'blob';
  xhr.onload = function(event) {
    var blob = xhr.response;
  };
  xhr.open('GET', url);
  xhr.send();

  // Or inserted into an <img> element:
  var img = document.getElementById('known-faces');
  img.src = url;
}).catch(function(error) {
  // Handle any errors
});
*/
</script>
</head>
<body>
<section id="container">
<!--header start-->
<header class="header fixed-top clearfix">
<!--logo start-->
<div class="brand">
    <a href="index.html" class="logo">
        VISITORS
    </a>
    <div class="sidebar-toggle-box">
        <div class="fa fa-bars"></div>
    </div>
</div>
<!--logo end-->

<div class="top-nav clearfix">
    <!--search & user info start-->
    <ul class="nav pull-right top-menu">
        <li>
            <input type="text" class="form-control search" placeholder=" Search">
        </li>
        <!-- user login dropdown start-->
        <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <img alt="" src="images/2.png">
                <span class="username">John Doe</span>
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu extended logout">
                <li><a href="#"><i class=" fa fa-suitcase"></i>Profile</a></li>
                <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                <li><a href="login.html"><i class="fa fa-key"></i> Log Out</a></li>
            </ul>
        </li>
        <!-- user login dropdown end -->

    </ul>
    <!--search & user info end-->
</div>
</header>
<!--header end-->
<!--sidebar start-->
<aside>
    <div id="sidebar" class="nav-collapse">
        <!-- sidebar menu start-->
        <div class="leftside-navigation">
            <ul class="sidebar-menu" id="nav-accordion">
                <li>
                    <a class="active" href="index.html">
                        <i class="fa fa-dashboard"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
            </ul>            </div>
        <!-- sidebar menu end-->
    </div>
</aside>
<!--sidebar end-->
<!--main content start-->
<section id="main-content">
	<section class="wrapper">
		<!-- //market-->
		<div class="market-updates">
			<div class="col-md-3 market-update-gd">
				<div class="market-update-block clr-block-2">
					<div class="col-md-4 market-update-right">
						<i class="fa fa-eye"> </i>
					</div>
					 <div class="col-md-8 market-update-left">
					 <h4>Total Visitors</h4>
					<h3 id="totalcnt"></h3>
				  </div>
				  <div class="clearfix"> </div>
				</div>
			</div>
			<div class="col-md-3 market-update-gd">
				<div class="market-update-block clr-block-1">
					<div class="col-md-4 market-update-right">
						<i class="fa fa-users" ></i>
					</div>
					<div class="col-md-8 market-update-left">
					<h4>Total Face in Datastore</h4>
						<h3>4</h3>
					</div>
				  <div class="clearfix"> </div>
				</div>
			</div>
			<div class="col-md-3 market-update-gd">
				<div class="market-update-block clr-block-3">
					<div class="col-md-4 market-update-right">
						<i class="fa fa-usd"></i>
					</div>
					<div class="col-md-8 market-update-left">
						<h4>Major Emotion</h4>
						<p>Happy</p>
					</div>
				  <div class="clearfix"> </div>
				</div>
			</div>
			<div class="clearfix"> </div>
		</div>
		<!-- //market-->
    <div id="report"></div>
		<!--div class="row">
			<div class="panel-body">
				<div class="col-md-12 w3ls-graph">
          <div class="col-md-12 chart_agile_left">
            <div class="chart_agile_top">
              <div class="chart_agile_bottom">
                <div id="graph1"></div>
                <script>
                var nReloads = 0;
                function data(offset) {
                  var ret = [];
                  for (var x = 0; x <= 360; x += 10) {
                  var v = (offset + x) % 360;
                  ret.push({
                    x: x,
                    y: Math.sin(Math.PI * v / 180).toFixed(4),
                    z: Math.cos(Math.PI * v / 180).toFixed(4)
                  });
                  }
                  return ret;
                }
                var graph = Morris.Line({
                  element: 'graph1',
                  data: data(0),
                  xkey: 'x',
                  ykeys: ['y', 'z'],
                  labels: ['sin()', 'cos()'],
                  parseTime: false,
                  ymin: -1.0,
                  ymax: 1.0,
                  hideHover: true
                });
                function update() {
                  nReloads++;
                  graph.setData(data(5 * nReloads));
                  $('#reloadStatus').text(nReloads + ' reloads');
                }
                setInterval(update, 100);
                </script>

              </div>
            </div>
          </div>
					<!--agileinfo-grap-->
	<!--//agileinfo-grap-->

				</div>
			</div>
		</div>
<img id = "known-faces">

</section>
 <!-- footer -->
		  <div class="footer">
			<div class="wthree-copyright">
			  <p>Â© 2018 MiCE Visitors. All rights reserved </a></p>
			</div>
		  </div>
  <!-- / footer -->
</section>
<!--main content end-->
</section>
<script src="js/bootstrap.js"></script>
<script src="js/jquery.dcjqaccordion.2.7.js"></script>
<script src="js/scripts.js"></script>
<script src="js/jquery.slimscroll.js"></script>
<script src="js/jquery.nicescroll.js"></script>
<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="js/flot-chart/excanvas.min.js"></script><![endif]-->
<script src="js/jquery.scrollTo.js"></script>
<!-- morris JavaScript -->
<script>
	$(document).ready(function() {


	});
	</script>
<!-- calendar -->
	<script type="text/javascript" src="js/monthly.js"></script>
	<!-- //calendar -->
</body>
</html>
